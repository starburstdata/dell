

<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="#0672CB">
  <script src="../_static/javascripts/modernizr.js"></script>
  
  <script>
      window.ga = window.ga || function () {
          (ga.q = ga.q || []).push(arguments)
      };
      ga.l = +new Date;
      ga('create', 'UA-114610397-1', 'auto');
      ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  
  
    <title>Backend service &#8212; Dell Data Analytics Engine</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/material.css" />
    <link rel="stylesheet" type="text/css" href="../_static/algolia.css" />
    <link rel="stylesheet" type="text/css" href="../_static/dell.css" />
    <link rel="stylesheet" type="text/css" href="../_static/search.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/main.js"></script>
    <script src="../_static/algolia.js"></script>
    <script src="../_static/searchbox.js"></script>
    <script src="../_static/searchresults.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Telemetry" href="telemetry.html" />
    <link rel="prev" title="Monitoring with JMX" href="jmx.html" />

  
   

<meta name="robots" content="none">
<meta name="googlebot" content="none">
<link href="https://fonts.googleapis.com/css2?family=Barlow&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">


<!-- Always link to the latest version, as canonical -->
<link rel="canonical" href="https://docs.starburst.io/latest/admin/backend-service.html">

  </head>
  <body dir=ltr
        data-md-color-primary= data-md-color-accent=>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#admin/backend-service" tabindex="1" class="md-skip"> Skip to content </a>
  <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <span
          title="Dell Data Analytics Engine"
          class="md-header-nav__button md-logo"
          style="cursor: default"
        >
          
          <img
            src="../_static/dell.png"
            alt="Dell Data Analytics Engine 477-e.5 LTS logo"
          />
          
        </span>
      </div>
      <span class="header-divider"></span>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label
          class="md-icon md-icon--menu md-header-nav__button"
          for="__drawer"
        ></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div
          class="md-flex__ellipsis md-header-nav__title"
          data-md-component="title"
        >
          Backend service
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label
          class="md-icon md-icon--search md-header-nav__button"
          for="__search"
        ></label>
        
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" action="../search.html" method="GET" name="search">
      <input type="text" class="md-search__input" name="q" placeholder="Search"
             autocapitalize="off" autocomplete="off" spellcheck="false"
             data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>

      </div>
       
  
  <div class="md-flex__cell md-flex__cell--shrink dropdown">
    <button class="dropdownbutton">Choose version</button>
    <div class="dropdown-content md-hero">
          <a title="Latest LTS (476-e)" href="/476-e/">Latest LTS (476-e)</a>
      
          <a title="474-e LTS" href="/474-e/">474-e LTS</a>
      
          <a title="468-e LTS" href="/468-e/">468-e LTS</a>
      
          <a title="462-e LTS" href="/462-e/">462-e LTS</a>
      
    </div>
  </div>
  

    </div>
  </nav>
</header>


  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
          <li class="md-tabs__item"><a href="../admin.html" class="md-tabs__link">Performance, logging, and governance features</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../index.html" title="Dell Data Analytics Engine" class="md-nav__button md-logo">
      
        <img src="../_static/dell.png" alt=" logo" width="48" height="48">
      
    </a>
    <a href="../index.html"
       title="Dell Data Analytics Engine">Dell Data Analytics Engine 477-e.5 LTS</a>
  </label>
  
  
  <p class="caption" role="heading"><span class="caption-text">Get started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../get-started/starburst-enterprise.html">What is Starburst Enterprise?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get-started/aidp.html">What is Dell AI Data Platform?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../learn/index.html">Learn Starburst Enterprise</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versions.html">Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.starburst.io/support.html">Get support</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For all users</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/sep-ui.html">Starburst Enterprise web UI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../starburst-ai/index.html">Starburst AI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../client.html">Clients</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-products.html">Data products</a></li>
<li class="toctree-l1"><a class="reference internal" href="../insights.html">Insights</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For Dell Data Processing Engine users</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dell-data-processing-engine/release-notes.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dell-data-processing-engine/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dell-data-processing-engine/job-submission.html">Job submission</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dell-data-processing-engine/resource-pools.html">Resource pools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dell-data-processing-engine/access-control.html">Access control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dell-data-processing-engine/object-storage-governance.html">Object storage governance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dell-data-processing-engine/object-storage-governance.html#api-documentation">API documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dell-data-processing-engine/gpu.html">GPU acceleration with Spark RAPIDS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dell-data-processing-engine/cli.html">Command line interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dell-data-processing-engine/api.html">Dell Data Processing Engine API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Use SQL</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../language.html">SQL language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sql.html">SQL statement syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../functions.html">Functions and operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../udf.html">User-defined functions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For data engineers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../catalogs.html">Define catalogs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../object-storage.html">Object storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-engineering/materialized-views.html">Materialized views</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-engineering/data-maintenance.html">Data maintenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optimizer.html">Query optimizer</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Connect to data sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../connector.html">Connector overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../object-storage-connectors.html">Object storage connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../non-object-storage-connectors.html">Non-object storage connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utilities.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community-connectors.html">Community-supported connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../connector/starburst-connectors.html">Starburst connectors feature matrix</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-engineering/cost-and-performance/index.html">Monitor and manage cost and performance</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For platform administrators</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../admin-topics.html">Administration topics</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../admin.html">Performance, logging, and governance features</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../admin.html#feature-topic-areas">Feature topic areas</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../admin.html#properties-reference">Properties reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin.html#performance-related-properties-and-features">Performance-related properties and features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin.html#starburst-cached-views">Starburst Cached Views</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin.html#data-governance">Data governance</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../admin.html#platform-features">Platform features</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="jmx.html">Monitoring with JMX</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Backend service</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l5"><a class="reference internal" href="#installation-and-configuration">Installation and configuration</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#backup-before-upgrading">Backup before upgrading</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#logged-information">Logged information</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#completed-queries">Completed queries</a></li>
<li class="toctree-l6"><a class="reference internal" href="#query-tables">Query tables</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#analyzing-the-query-log">Analyzing the query log</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="telemetry.html">Telemetry</a></li>
<li class="toctree-l4"><a class="reference internal" href="opentelemetry.html">Observability with OpenTelemetry</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../admin.html#other-resources">Other resources</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../starburst-rest-api.html">Starburst Enterprise REST API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SEP deployment mechanisms</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../license-requirements.html">Starburst Enterprise license</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Manual installation and license</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../develop.html">Trino developer guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix.html">Version-specific notices and information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix.html#topic-areas">Topic areas</a></li>
</ul>
  
  
</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
  <div class="local-toc">
    <strong>Contents</strong>
    <ul>
<li><a class="reference internal" href="#">Backend service</a><ul>
<li><a class="reference internal" href="#requirements">Requirements</a></li>
<li><a class="reference internal" href="#installation-and-configuration">Installation and configuration</a><ul>
<li><a class="reference internal" href="#backup-before-upgrading">Backup before upgrading</a></li>
</ul>
</li>
<li><a class="reference internal" href="#logged-information">Logged information</a><ul>
<li><a class="reference internal" href="#completed-queries">Completed queries</a></li>
<li><a class="reference internal" href="#query-tables">Query tables</a></li>
</ul>
</li>
<li><a class="reference internal" href="#analyzing-the-query-log">Analyzing the query log</a></li>
</ul>
</li>
</ul>

  </div>

              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  <section id="backend-service">
<h1 id="admin-backend-service--page-root">Backend service<a class="headerlink" href="#admin-backend-service--page-root" title="Permalink to this heading">#</a></h1>
<p>The Dell Data Analytics Engine, powered by Starburst Enterprise platform (SEP) backend service manages and stores information for:</p>
<ul class="simple">
<li><p>Query completion details and events</p></li>
<li><p>Cluster metrics</p></li>
<li><p>Data products</p></li>
<li><p>Built-in role-based access control</p></li>
<li><p>Managed statistics</p></li>
<li><p>Cache service - Optional. Separate schema or database required, depending
on the RDBMS.</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This service is required; however by default, it is disabled. You must provide
and configure a suitable database, and enable the service as described in the
requirements and installation sections that follow.</p>
</div>
<section id="requirements">
<span id="query-logger-requirements"></span><h2 id="requirements">Requirements<a class="headerlink" href="#requirements" title="Permalink to this heading">#</a></h2>
<p>The backend service requires the following:</p>
<ul class="simple">
<li><p>An externally-managed database. The following RDBMS are supported:</p>
<ul>
<li><p>MySQL 8.0.12+</p></li>
<li><p>PostgreSQL 12.0+</p></li>
<li><p>OracleDB 12.2.0.1+</p></li>
</ul>
</li>
<li><p>Network access from the coordinator to the external database.</p></li>
<li><p>A valid <a class="reference internal" href="../license-requirements.html"><span class="doc">Starburst Enterprise license</span></a>.</p></li>
</ul>
<p>The requirements for the external database vary based on a number of factors,
including the following:</p>
<ul class="simple">
<li><p>Specific RDBMS in use</p></li>
<li><p>Size of the cluster</p></li>
<li><p>Number of users</p></li>
<li><p>Number of executed queries</p></li>
<li><p>Number of users accessing metrics</p></li>
<li><p>Reports and other queries accessing the service database</p></li>
</ul>
<p>The SEP backend service supports different authentication methods for each
external database type:</p>
<table id="id1">
<caption><span class="caption-text">Backend service authentication method support</span><a class="headerlink" href="#id1" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 35%"/>
<col style="width: 65%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>RDBMS</p></th>
<th class="head"><p>Authentication method</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>MySQL</p></td>
<td><p>Basic, AWS IAM</p></td>
</tr>
<tr class="row-odd"><td><p>OracleDB</p></td>
<td><p>Basic, Kerberos</p></td>
</tr>
<tr class="row-even"><td><p>PostgreSQL</p></td>
<td><p>Basic</p></td>
</tr>
</tbody>
</table>
<p>The RDBMS server is recommended to have the following hardware allocation, with
adjustments based on actual server load:</p>
<ul class="simple">
<li><p>64GB of RAM</p></li>
<li><p>8 CPU cores</p></li>
<li><p>At least 5GB of storage</p></li>
</ul>
<p>Storage requirements vary widely based on usage patterns, and grow over time
specifically due to the query history storage. To keep the cluster and database
operational over time, you must monitor storage usage and adjust when necessary.
You may also want to disable storage of query plans using the
<code class="docutils literal notranslate"><span class="pre">insights.query-history.store-query-plan</span></code> configuration property. If your
organization has data retention policies that require long-term storage,
disabling storage of query plans if they are not necessary for your analytics
can dramatically reduce storage utilization on the backend service database.</p>
<p>Due to the importance of the service for the proper functioning of SEP
features and operations, we do not recommend allocating fewer resources for
production infrastructure without testing. The following hardware allocation is
the minimum required for the external service database, recommended only for use
in non-production deployments:</p>
<ul class="simple">
<li><p>8GB of RAM</p></li>
<li><p>4 CPU cores</p></li>
<li><p>5 GB of storage</p></li>
</ul>
<p>In addition, the connection to the database needs to be highly performant in
terms latency and throughput to support your specific usage load.</p>
<p>Multiple clusters should not share a single database as the backend service.
Provision a separate database as the backend service for each SEP cluster.</p>
</section>
<section id="installation-and-configuration">
<span id="query-logger-configuration"></span><h2 id="installation-and-configuration">Installation and configuration<a class="headerlink" href="#installation-and-configuration" title="Permalink to this heading">#</a></h2>
<p>To enable the backend service, configure the SEP coordinator
to use the required external database with the following configuration
properties:</p>
<table id="id2">
<caption><span class="caption-text">Backend service configuration properties</span><a class="headerlink" href="#id2" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 32%"/>
<col style="width: 68%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">insights.jdbc.url</span></code></p></td>
<td><p>JDBC connection string for the required external database.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">insights.jdbc.user</span></code></p></td>
<td><p>Username of a user with full read and write access to the required external
database.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">insights.jdbc.password</span></code></p></td>
<td><p>Password for the database user.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">insights.persistence-enabled</span></code></p></td>
<td><p>Enables the query history functionality. You must explicitly <a class="reference internal" href="../insights/configuration.html#id1"><span class="std std-ref">enable the persistence for Insights</span></a> to use the
persisted data in the backend service database. Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">insights.query-history.store-query-plan</span></code></p></td>
<td><p>Enables storage of query plans in the backend database. Disabling this can
greatly reduce storage utilization if query plan storage is not necessary.
Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></td>
</tr>
</tbody>
</table>
<p>The following examples show the service configuration in the coordinator’s
<code class="docutils literal notranslate"><span class="pre">config.properties</span></code> for the <code class="docutils literal notranslate"><span class="pre">starburstenterprise</span></code> database in PostgreSQL,
Oracle, and MySQL:</p>
<p><strong>Example configuration with a PostgreSQL database</strong></p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">insights.jdbc.url</span><span class="o">=</span><span class="s">jdbc:postgresql://postgresql.example.com:5432/starburstenterprise</span>
<span class="na">insights.jdbc.user</span><span class="o">=</span><span class="s">sepuser</span>
<span class="na">insights.jdbc.password</span><span class="o">=</span><span class="s">test12</span>
<span class="na">insights.persistence-enabled</span><span class="o">=</span><span class="s">true</span>
</pre></div>
</div>
<p>It is not good practice to use the PostgreSQL <code class="docutils literal notranslate"><span class="pre">public</span></code> schema. Configure the
user to use a different schema by default. See the <a class="reference external" href="https://www.postgresql.org/docs/current/ddl-schemas.html#DDL-SCHEMAS-PATTERNS">PostgreSQL documentation</a>
for details.</p>
<p><strong>Example configuration with an Oracle database</strong></p>
<p>In the following example, username and password authentication is used to
connect the backend service to an Oracle database:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">insights.jdbc.url</span><span class="o">=</span><span class="s">jdbc:oracle:thin:@oracle.example.com:1521/starburstenterprise</span>
<span class="na">insights.jdbc.user</span><span class="o">=</span><span class="s">sepuser</span>
<span class="na">insights.jdbc.password</span><span class="o">=</span><span class="s">test12</span>
<span class="na">insights.persistence-enabled</span><span class="o">=</span><span class="s">true</span>
</pre></div>
</div>
<p>As an alternative, the service can use Kerberos authentication to connect to
Oracle with the following configuration:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">insights.jdbc.url</span><span class="o">=</span><span class="s">jdbc:oracle:thin:@oracle.example.com:1521/starburstenterprise</span>
<span class="na">insights.jdbc.authentication-type</span><span class="o">=</span><span class="s">KERBEROS</span>
<span class="na">insights.jdbc.kerberos.client.principal</span><span class="o">=</span><span class="s">example@STARBURSTDATA.COM</span>
<span class="na">insights.jdbc.kerberos.client.keytab</span><span class="o">=</span><span class="s">/etc/kerberos/example.keytab</span>
<span class="na">insights.jdbc.kerberos.config</span><span class="o">=</span><span class="s">/etc/kerberos/krb5.conf</span>
<span class="na">insights.persistence-enabled</span><span class="o">=</span><span class="s">true</span>
</pre></div>
</div>
<p><strong>Example query configuration with a MySQL database</strong></p>
<p>In the following example, username and password authentication is used to
connect the service to a MySQL database:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">insights.jdbc.url</span><span class="o">=</span><span class="s">jdbc:mysql://mysql.example.com:3306/starburstenterprise?sessionVariables=sql_mode=ANSI</span>
<span class="na">insights.jdbc.user</span><span class="o">=</span><span class="s">sepuser</span>
<span class="na">insights.jdbc.password</span><span class="o">=</span><span class="s">test12</span>
<span class="na">insights.persistence-enabled</span><span class="o">=</span><span class="s">true</span>
</pre></div>
</div>
<p>As an alternative, the service can use IAM token-based authentication to
connect to a MySQL database with the following configuration:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">insights.jdbc.url</span><span class="o">=</span><span class="s">jdbc:mysql://mysql.example.com:3306/starburstenterprise?sessionVariables=sql_mode=ANSI</span>
<span class="na">insights.jdbc.authentication-type</span><span class="o">=</span><span class="s">AWS_IAM</span>
<span class="na">insights.jdbc.connection-user</span><span class="o">=</span><span class="s">db_user</span>
<span class="na">insights.jdbc.aws.region-name</span><span class="o">=</span><span class="s">us-east-2</span>
<span class="na">insights.jdbc.aws.iam-role</span><span class="o">=</span><span class="s">${ENV:RDS_ROLE_ARN}</span>
<span class="na">insights.jdbc.aws.external-id</span><span class="o">=</span><span class="s">for_product_test</span>
<span class="na">insights.jdbc.aws.token-expiration-timeout</span><span class="o">=</span><span class="s">1s</span>
<span class="na">insights.persistence-enabled</span><span class="o">=</span><span class="s">true</span>
</pre></div>
</div>
<p>You must specify <code class="docutils literal notranslate"><span class="pre">sql_mode=ANSI</span></code> in the <code class="docutils literal notranslate"><span class="pre">insights.jdbc.url</span></code> configuration
for a MySQL database. The configured user must have sufficient rights to create
tables and insert data in the configured schema.</p>
<section id="backup-before-upgrading">
<h3 id="backup-before-upgrading">Backup before upgrading<a class="headerlink" href="#backup-before-upgrading" title="Permalink to this heading">#</a></h3>
<p>We recommend creating a backup of your service database before upgrading to
a new version of SEP. Refer to your database documentation for
platform- and version-specific instructions.</p>
</section>
</section>
<section id="logged-information">
<h2 id="logged-information">Logged information<a class="headerlink" href="#logged-information" title="Permalink to this heading">#</a></h2>
<p>Information from processing queries is logged in multiple tables and the
contained fields. Details are documented in the following sections.</p>
<section id="completed-queries">
<h3 id="completed-queries">Completed queries<a class="headerlink" href="#completed-queries" title="Permalink to this heading">#</a></h3>
<p>A row is created in the <code class="docutils literal notranslate"><span class="pre">completed_queries</span></code> table for each submitted query. It
captures everything that SEP emits – query, user, metadata, stats, performance
related attributes, resource consumption, start time, end time, and much more:</p>
<table id="id3">
<caption><span class="caption-text">Columns of the <code class="docutils literal notranslate"><span class="pre">completed_queries</span></code> table</span><a class="headerlink" href="#id3" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 35%"/>
<col style="width: 65%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Column</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">query_id</span></code></p></td>
<td><p>Unique identifier of the query</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">catalog</span></code></p></td>
<td><p>Session catalog</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">schema</span></code></p></td>
<td><p>Session schema</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">principal</span></code></p></td>
<td><p>Identity used to authenticate to SEP</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">user_agent</span></code></p></td>
<td><p>User agent that submitted the query</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">client_info</span></code></p></td>
<td><p>Information about the client submitting the query</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">source</span></code></p></td>
<td><p>Client tool or driver used to execute query</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">environment</span></code></p></td>
<td><p>Name of the SEP environment name</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">remote_client_address</span></code></p></td>
<td><p>Address of the client that submitted the query</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">server_version</span></code></p></td>
<td><p>Version of SEP that executed the query</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">usr</span></code></p></td>
<td><p>Identity used for authorization and access control</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">usr_groups</span></code></p></td>
<td><p>The groups the user executing the query belongs to, as an array of strings</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">query_state</span></code></p></td>
<td><p>State of the query when logged</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">query</span></code></p></td>
<td><p>Full SQL statement of the submitted query</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">query_plan</span></code></p></td>
<td><p>Full explain plan of the submitted query, including costs for each stage.
Identical to the output from <code class="docutils literal notranslate"><span class="pre">EXPLAIN</span> <span class="pre">ANALYZE</span> <span class="pre">&lt;query&gt;</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">total_rows</span></code></p></td>
<td><p>Sum of all rows used in the query input</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">total_bytes</span></code></p></td>
<td><p>Sum of all bytes used in the query input</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">output_rows</span></code></p></td>
<td><p>Number of filtered rows on query output</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">output_bytes</span></code></p></td>
<td><p>Number of filtered bytes on query output</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">written_rows</span></code></p></td>
<td><p>Number of inserted rows</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">written_bytes</span></code></p></td>
<td><p>Number of bytes of inserted rows</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">cpu_time_ms</span></code></p></td>
<td><p>Total accumulated CPU time across threads and workers</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">wall_time_ms</span></code></p></td>
<td><p>Elapsed time for query pressing as measured by a wall clock in ms</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">queued_time_ms</span></code></p></td>
<td><p>Time spent between query submission and the beginning of query planning
in ms</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">peak_user_memory_bytes</span></code></p></td>
<td><p>Maximum amount of memory directly tied to query resources used by a query
at one time</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">peak_total_non_revocable_memory_bytes</span></code></p></td>
<td><p>Maximum amount of memory used at one time which is not eligible to be
spilled to disk</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">peak_task_user_memory</span></code></p></td>
<td><p>Maximum amount of user memory reserved at one time by one task</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">peak_task_total_memory</span></code></p></td>
<td><p>Maximum amount of user and system memory reserved at one time by one task,
values are impacted by the <a class="reference internal" href="properties-resource-management.html"><span class="doc">memory management configurations</span></a></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">physical_input_bytes</span></code></p></td>
<td><p>Number of uncompressed bytes read from source</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">physical_input_rows</span></code></p></td>
<td><p>Number of rows read from source</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">internal_network_bytes</span></code></p></td>
<td><p>Number of bytes of data exchanged between nodes during query execution</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">internal_network_rows</span></code></p></td>
<td><p>Number of rows of data exchanged between nodes during query execution</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cumulative_memory</span></code></p></td>
<td><p>Integral of memory reservation with respect to time, giving units of
<code class="docutils literal notranslate"><span class="pre">memory</span> <span class="pre">x</span> <span class="pre">time</span></code>. Dividing this figure by the execution time approximates
the average memory reservation during query execution.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">completed_splits</span></code></p></td>
<td><p>Total number of splits completed by the query</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">plan_node_stats_and_costs</span></code></p></td>
<td><p>Table statistics for each source table, as well as estimates for the CPU,
memory, and network I/O for each stage of the query plan and each operator
in each plan node. Operator costs are denoted by their plan node ID, as
indicated from the <code class="docutils literal notranslate"><span class="pre">operator_summaries</span></code> column. Cost values do not
represent any actual unit, but are numbers that are used to compare the
relative costs between plan nodes, allowing the optimizer to choose the
best plan for executing a query.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">stage_gc_statistics</span></code></p></td>
<td><p>Information about JVM garbage collection tasks and time spent in GC for
each query stage</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cpu_time_distribution</span></code></p></td>
<td><p>Min, max, average, and percentiles for reserved CPU time per task for each
query stage. Can be useful for identifying skew in a query.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">operator_summaries</span></code></p></td>
<td><p>Information about every operator, including operator type (TableScan,
Aggregation, Join, etc.) and resources used (CPU time, network I/O,
memory reserved, etc.) invoked at each stage of the query.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">resource_waiting_time</span></code></p></td>
<td><p>Time spent waiting for sufficient resources before query execution in ms</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">analysis_time</span></code></p></td>
<td><p>Time spent reading the metadata and checking the query for semantic errors
in ms</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">execution_time</span></code></p></td>
<td><p>Total time a query spent in the execution phase in ms</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">create_time</span></code></p></td>
<td><p>Timestamp from when query was received</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">end_time</span></code></p></td>
<td><p>Timestamp when results were finished being consumed by the client</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">accessed_metadata</span></code></p></td>
<td><p>List of catalogs, schemas, tables, and columns read. Query must be a
<code class="docutils literal notranslate"><span class="pre">SELECT</span></code> query that returned more than 0 rows.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">planning_time</span></code></p></td>
<td><p>Time spent creating and optimizing the query plan in ms</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">scheduled_time</span></code></p></td>
<td><p>Total time a query’s tasks were scheduled on a thread to run in ms</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">failure_info</span></code></p></td>
<td><p>Information about a query’s failure reason (if applicable), as a JSON
formatted string.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">query_type</span></code></p></td>
<td><p>The type of query. Possible values are the ones enumerated for the
<code class="docutils literal notranslate"><span class="pre">queryType</span></code> selector rule for <a class="reference internal" href="resource-groups.html"><span class="doc">Resource groups</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">update_type</span></code></p></td>
<td><p>The type of update the query performed (e.g. <code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">TABLE</span></code>); this
column is <code class="docutils literal notranslate"><span class="pre">null</span></code> for <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> queries.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">resource_group_id</span></code></p></td>
<td><p>ID of the <a class="reference internal" href="resource-groups.html"><span class="doc">resource group</span></a> that the query
belongs to.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="query-tables">
<h3 id="query-tables">Query tables<a class="headerlink" href="#query-tables" title="Permalink to this heading">#</a></h3>
<p>For every table referenced by a query, zero, one or more rows with information
about the accessed table is created in the <code class="docutils literal notranslate"><span class="pre">query_tables</span></code> table. The
<code class="docutils literal notranslate"><span class="pre">query_id</span></code> defines the relationship to the query in the <code class="docutils literal notranslate"><span class="pre">completed_queries</span></code>
table.</p>
<table id="id4">
<caption><span class="caption-text">Columns of the <code class="docutils literal notranslate"><span class="pre">query_tables</span></code> table</span><a class="headerlink" href="#id4" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 35%"/>
<col style="width: 65%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Column</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">query_id</span></code></p></td>
<td><p>Unique identifier of the query</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">catalog_name</span></code></p></td>
<td><p>Name of the catalog containing the queried table</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">schema_name</span></code></p></td>
<td><p>Name of the schema containing the queried table</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">table_name</span></code></p></td>
<td><p>Name of the queried table</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">physical_bytes</span></code></p></td>
<td><p>Number of bytes read or written</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">physical_rows</span></code></p></td>
<td><p>Number of rows read or written</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">is_output</span></code></p></td>
<td><p>Boolean flag indicating whether the table was written to (<code class="docutils literal notranslate"><span class="pre">true</span></code>) or
read from (<code class="docutils literal notranslate"><span class="pre">false</span></code>)</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="analyzing-the-query-log">
<h2 id="analyzing-the-query-log">Analyzing the query log<a class="headerlink" href="#analyzing-the-query-log" title="Permalink to this heading">#</a></h2>
<p>Query log data is available for analysis and inspection in
<a class="reference internal" href="../insights/query-overview.html"><span class="doc">Insights query overview</span></a>.</p>
<p>To create custom analysis and visualizations of the query log data, you can
create a catalog with the <a class="reference internal" href="../connector/postgresql.html"><span class="doc">PostgreSQL connector</span></a>,
for instance, if you are using PostgreSQL as your external backend service
database, using the same JDBC connection parameters. This allows you to use the
Trino CLI, or any other application connected to the catalog to create queries,
dashboards, perform ad hoc analysis and more.</p>
<p>Example use cases:</p>
<ul class="simple">
<li><p>measure query performance numbers and trends</p></li>
<li><p>understand impact of different cluster configurations</p></li>
<li><p>enable cluster workload management and resource consumption</p></li>
</ul>
<p>The following section describes an example analysis.</p>
<p>Generate data by running a query with SEP.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>trino&gt; CREATE TABLE memory.default.country AS
        SELECT n.name nation_name, r.name region_name
        FROM delta.sf1.nation n JOIN delta.sf1.region r ON n.regionkey = r.regionkey;
CREATE TABLE: 25 rows

Query 20201209_021306_00003_qsyab, FINISHED, 1 node
Splits: 68 total, 68 done (100.00%)
3.34 [35 rows, 5.35KB] [10 rows/s, 1.6KB/s]
</pre></div>
</div>
<p>Data is written to the <code class="docutils literal notranslate"><span class="pre">completed_queries</span></code> table in the PostgreSQL database.</p>
<p>In the following example, the catalog file is named
<code class="docutils literal notranslate"><span class="pre">sepbackendservice.properties</span></code>
and the <code class="docutils literal notranslate"><span class="pre">public</span></code> schema contains the <code class="docutils literal notranslate"><span class="pre">completed_queries</span></code> table. The
<code class="docutils literal notranslate"><span class="pre">query_id</span></code> from the execution is used to locate the correct record. The output
in the following example has been trimmed.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>trino&gt; SELECT *
        FROM sepbackendservice.public.completed_queries
        WHERE query_id = '20201209_021306_00003_qsyab';
-[ RECORD 1 ]-------------------------+---------------------------------------
query_id                              | 20201209_021306_00003_qsyab
catalog                               | NULL
schema                                | NULL
principal                             | demo
user_agent                            | StatementClientV1/345
client_info                           | NULL
source                                | trino-cli
environment                           | demo
remote_client_address                 | 127.0.0.1
server_version                        | 350-e
usr                                   | demo
query_state                           | FINISHED
query                                 | CREATE TABLE memory.default.country AS SELECT n.name nation_name, r.name region_name FROM delta.sf1.nation n JOIN delta.sf1.region r ON n.regionkey = r.regionkey
query_plan                            | Fragment 0 [COORDINATOR_ONLY]
                                      |     CPU: 43.24ms, Scheduled: 60.81ms, Input: 2 rows (81B); per task: avg.: 2.00 std.dev.: 0.00, Output: 1 row (9B)
                                      |     Output layout: [rows]
                                      | ...
total_rows                            | 35
total_bytes                           | 5477
output_rows                           | 1
output_bytes                          | 9
written_rows                          | 25
written_bytes                         | 597
cpu_time_ms                           | 392
wall_time_ms                          | 3342
queued_time_ms                        | 10
peak_user_memory_bytes                | 387318
peak_total_non_revocable_memory_bytes | 387318
peak_task_user_memory                 | 387318
peak_task_total_memory                | 387318
physical_input_bytes                  | 5274
physical_input_rows                   | 30
internal_network_bytes                | 933
internal_network_rows                 | 32
cumulative_memory                     | 7.7086698E7
completed_splits                      | 68
plan_node_stats_and_costs             | {"stats":{},"costs":{}}
stage_gc_statistics                   | [{"stageId":0,"tasks":1,"fullGcTasks":0,...
cpu_time_distribution                 | [{"stageId":0,"tasks":1,"p25":25,"p50":25,...
operator_summaries                    | [{"stageId":0,"pipelineId":0,"operatorId":0,..
resource_waiting_time                 | 783
analysis_time                         | 783
execution_time                        | 2559
create_time                           | 2020-12-09 02:13:06.140000 UTC
end_time                              | 2020-12-09 02:13:09.482000 UTC
accessed_metadata                     | [{"catalogName":"delta","schema":"sf1","table":"nation","columns":["name","regionkey"],...
failure_info                          | NULL
update_type                           | CREATE TABLE
planning_time                         | 1711
scheduled_time                        | 1263
</pre></div>
</div>
<p>The tables accessed by the query are recorded in the <code class="docutils literal notranslate"><span class="pre">query_tables</span></code> table and
can be identified using the same <code class="docutils literal notranslate"><span class="pre">query_id</span></code>.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>trino&gt; SELECT *
        FROM sepbackendservice.public.query_tables
        WHERE query_id = '20201209_021306_00003_qsyab';
          query_id           | catalog_name | schema_name | table_name | physical_bytes | physical_rows | is_output
-----------------------------+--------------+-------------+------------+----------------+---------------+-----------
 20201209_021306_00003_qsyab | memory       | default     | country    |            597 |            25 | true
 20201209_021306_00003_qsyab | delta        | sf1         | region     |           1691 |             5 | false
 20201209_021306_00003_qsyab | delta        | sf1         | nation     |           3583 |            25 | false
(3 rows)
</pre></div>
</div>
</section>
</section>


          </article>
        </div>
      </div>
    </main>
  </div>

  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="jmx.html" title="Monitoring with JMX"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> Previous </span> Monitoring with JMX </span>
              </div>
            </a>
          
          
            <a href="telemetry.html" title="Telemetry"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> Next </span> Telemetry </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
        </div>
      </div>
    </div>
  </footer>
  <script src="../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
<!-- custom footer should go here in time -->
<div class="page-footer">
</div>
<script src="../_static/algolia.js"></script>
<script src="../_static/searchbox.js"></script>
<script src="../_static/searchresults.js"></script>
  </body>
</html>